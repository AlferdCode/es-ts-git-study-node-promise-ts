"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[866],{578:function(t,e,n){n.d(e,{Z:function(){return p}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"typeone"},t._l(t.typeOneList,(function(n,r){return e("div",{key:r,on:{click:function(e){return t.onClickHandler(n)}}},[e("router-link",{class:{"router-active":n==t.typeOne},attrs:{to:"/sorting?type_one="+n}},[t._v(t._s(n))])],1)})),0)},s=[],o={name:"TopCategory",props:["typeOneList"],data(){return{typeOne:this.$route.query.type_one}},methods:{onClickHandler(t){this.$emit("onClick",t)}},updated(){},watch:{$route:{deep:!0,handler(){this.typeOne=this.$route.query.type_one}}}},i=o,a=n(1001),l=(0,a.Z)(i,r,s,!1,null,"36f8424a",null),p=l.exports},4421:function(t,e,n){n.r(e),n.d(e,{default:function(){return H}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("top-category",{attrs:{typeOneList:t.typeOneList}}),e("banner-two",{attrs:{banners:t.banners}}),e("el-row",{attrs:{gutter:20}},t._l(t.shopList,(function(n,r){return e("el-col",{key:r,attrs:{span:6}},[e("shop",{attrs:{shop:n},on:{onShopClick:t.linkDetail}})],1)})),1),e("back-top")],1)},s=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner"},[e("el-carousel",{attrs:{height:"500px"}},t._l(t.banners,(function(t,n){return e("el-carousel-item",{key:n},[e("img",{attrs:{src:t.src,alt:""}})])})),1)],1)},i=[],a={props:["banners"]},l=a,p=n(1001),u=(0,p.Z)(l,o,i,!1,null,"44e54250",null),c=u.exports,h=n.p+"img/1.6814799f.jpg",d=n.p+"img/2.c6950121.jpg",g=n.p+"img/3.a49a5e49.jpg",y=n.p+"img/4.94f6ac05.jpg",f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner"},[e("el-carousel",{attrs:{interval:4e3,type:"card",height:"250px"}},t._l(t.banners,(function(t,n){return e("el-carousel-item",{key:n},[e("img",{attrs:{src:t.src,alt:""}})])})),1)],1)},m=[],v={data(){return{}},props:["banners"]},_=v,k=(0,p.Z)(_,f,m,!1,null,"611251bd",null),b=k.exports,L=n(2419),C=n(578);let O=!0;var w={components:{Banner:c,BannerTwo:b,TopCategory:C.Z},name:"Home",data(){return{banners:[{src:h,title:"第四张",id:"101010"},{src:d,title:"第一张",id:"101011"},{src:g,title:"第二张",id:"101012"},{src:y,title:"第三张",id:"101013"}],shopList:[],page:"1",typeOneList:[]}},methods:{getShopList(){return(0,L.I)(this.page).then((t=>{this.shopList=this.shopList.concat(t)}))},scrollHandler(){console.log(1);let t=getComputedStyle(document.querySelector("#app"))["height"];t=parseInt(t);let e=innerHeight,n=document.documentElement.scrollTop||document.body.scrollTop;e+n>t-10&&O&&(O=!1,this.page++,this.getShopList().then((()=>{O=!0})))},linkDetail(t){this.$router.push(`/detail/${t.Id}?type_one=${t.type_one}`)},getTypeOne(){(0,L.Z)().then((t=>{this.typeOneList=t}))}},created(){this.getShopList(),this.getTypeOne()},mounted(){window.addEventListener("scroll",this.scrollHandler)},beforeDestroy(){window.removeEventListener("scroll",this.scrollHandler)}},Z=w,T=(0,p.Z)(Z,r,s,!1,null,"418dd293",null),H=T.exports},2419:function(t,e,n){n.d(e,{I:function(){return s},Z:function(){return o}});var r=n(4471);function s(t){return(0,r.Z)({url:"/api/goodList",method:"get",params:{page:t}})}function o(){return(0,r.Z)({url:"/api/getTypeOne",method:"get"})}}}]);
//# sourceMappingURL=866.9188d7b3.js.map