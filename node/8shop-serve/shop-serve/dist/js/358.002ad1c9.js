"use strict"; (self["webpackChunkshop"] = self["webpackChunkshop"] || []).push([[358], { 578: function (t, e, o) { o.d(e, { Z: function () { return p } }); var n = function () { var t = this, e = t._self._c; return e("div", { staticClass: "typeone" }, t._l(t.typeOneList, (function (o, n) { return e("div", { key: n, on: { click: function (e) { return t.onClickHandler(o) } } }, [e("router-link", { class: { "router-active": o == t.typeOne }, attrs: { to: "/sorting?type_one=" + o } }, [t._v(t._s(o))])], 1) })), 0) }, r = [], s = { name: "TopCategory", props: ["typeOneList"], data() { return { typeOne: this.$route.query.type_one } }, methods: { onClickHandler(t) { this.$emit("onClick", t) } }, updated() { }, watch: { $route: { deep: !0, handler() { this.typeOne = this.$route.query.type_one } } } }, l = s, i = o(1001), c = (0, i.Z)(l, n, r, !1, null, "36f8424a", null), p = c.exports }, 358: function (t, e, o) { o.r(e), o.d(e, { default: function () { return C } }); var n = function () { var t = this, e = t._self._c; return e("div", { staticClass: "sorting" }, [e("div", {}, [e("top-category", { attrs: { typeOneList: t.typeOneList } })], 1), e("div", { staticClass: "leftNav" }, t._l(t.typeTwoList, (function (o, n) { return e("div", { key: n, class: { nav_item: !0, "item-bg": n == t.clickItem }, on: { click: function (e) { return t.setFloorNavMountClick(n) } } }, [t._v(" " + t._s(o) + " ")]) })), 0), e("div", { staticClass: "shop-content" }, t._l(t.typeTwoList, (function (o, n) { return e("div", { key: n, staticClass: "floor_item" }, [e("h1", [t._v(t._s(o))]), e("shop-list", { attrs: { type_two: o, type_one: t.typeOne } })], 1) })), 0), e("back-top")], 1) }, r = [], s = o(4471); function l(t) { return (0, s.Z)({ url: "/api/getTypeTwo", method: "get", params: { type_one: t } }) } function i(t) { return (0, s.Z)({ url: "/api/getTypeTwoList", method: "get", params: { ...t } }) } var c = o(2419), p = function () { var t = this, e = t._self._c; return e("div", { staticClass: "leftNav" }, t._l(t.typeTwoList, (function (o, n) { return e("div", { key: n, staticClass: "nav_item" }, [t._v(" " + t._s(o) + " ")]) })), 0) }, u = [], a = { name: "LeftNav", props: ["typeTwoList"], data() { return { tabPosition: "left" } } }, m = a, d = o(1001), y = (0, d.Z)(m, p, u, !1, null, null, null), h = y.exports, T = function () { var t = this, e = t._self._c; return e("div", { staticClass: "shoplist" }, [t._l(t.TypeTwoList, (function (o, n) { return [e("shop", { key: n, attrs: { shop: o }, on: { onShopClick: t.linkDetail } })] }))], 2) }, f = [], _ = { name: "ShopList", props: { type_two: String, type_one: String }, data() { return { TypeTwoList: [] } }, methods: { getTypeTwoList() { let t = { type_two: this.type_two, type_one: this.type_one }; i(t).then((t => { this.TypeTwoList = t })) }, linkDetail(t) { this.$router.push(`/detail/${t.Id}?type_one=${t.type_one}`) } }, created() { this.getTypeTwoList() }, watch: { type_two: { handler() { this.getTypeTwoList() } } } }, v = _, O = (0, d.Z)(v, T, f, !1, null, "46faf25a", null), w = O.exports, L = o(578), g = { name: "Sorting", components: { LeftNav: h, ShopList: w, TopCategory: L.Z }, data() { return { typeTwoList: [], typeOneList: [], typeOne: this.$route.query.type_one, element: { nav_item: null, floor_item: null }, timer: null, clickItem: 0 } }, watch: { $route: { deep: !0, handler() { this.getTypeTwo(), this.typeOne = this.$route.query.type_one } } }, methods: { getTypeTwo() { let t = this.$route.query.type_one; l(t).then((t => { this.typeTwoList = t })) }, getTypeOne() { (0, c.Z)().then((t => { this.typeOneList = t })) }, setFloorNavMountClick(t) { this.clickItem = t; const { floor_item: e } = this.element, o = e[t].offsetTop - e[0].offsetTop, n = document.documentElement.scrollTop || document.body.scrollTop, r = { step: 60, timer: 16, FLOOR_OFFSETTOP: o }; if (n > o) this.setFloorSCrollArrowUp(r); else { if (n == o) return !1; this.setFloorScrollArrowDown(r) } }, setFloorSCrollArrowUp(t) { clearInterval(this.timer), this.timer = setInterval((() => { let e = document.documentElement.scrollTop || document.body.scrollTop; e <= t.FLOOR_OFFSETTOP ? (document.documentElement.scrollTop = t.FLOOR_OFFSETTOP, document.body.scrollTop = t.FLOOR_OFFSETTOP, clearInterval(this.timer)) : (document.documentElement.scrollTop = e - t.step, document.body.scrollTop = e - t.step) }), t.times) }, setFloorScrollArrowDown(t) { clearInterval(this.timer), this.timer = setInterval((() => { let e = document.documentElement.scrollTop || document.body.scrollTop; e + 500 >= t.FLOOR_OFFSETTOP ? (document.documentElement.scrollTop = t.FLOOR_OFFSETTOP, document.body.scrollTop = t.FLOOR_OFFSETTOP, clearInterval(this.timer)) : (document.documentElement.scrollTop = e + t.step, document.body.scrollTop = e - t.step) }), t.times) }, floorSrcollEventListener() { const { nav_item: t, floor_item: e } = this.element, o = document.documentElement.scrollTop || document.body.scrollTop; for (let n = 0, r = e.length; n < r; n++) { let t = e[n].offsetTop - e[0].offsetTop; o >= t - 120 && (this.clickItem = n) } } }, created() { this.getTypeTwo(), this.getTypeOne() }, mounted() { this.element = { nav_item: document.getElementsByClassName("nav_item"), floor_item: document.getElementsByClassName("floor_item") }, window.addEventListener("scroll", this.floorSrcollEventListener) }, beforeDestroy() { window.removeEventListener("scroll", this.floorSrcollEventListener) } }, F = g, k = (0, d.Z)(F, n, r, !1, null, "ef70849c", null), C = k.exports }, 2419: function (t, e, o) { o.d(e, { I: function () { return r }, Z: function () { return s } }); var n = o(4471); function r(t) { return (0, n.Z)({ url: "/api/goodList", method: "get", params: { page: t } }) } function s() { return (0, n.Z)({ url: "/api/getTypeOne", method: "get" }) } } }]);
//# sourceMappingURL=358.002ad1c9.js.map